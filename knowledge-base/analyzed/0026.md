# Finding 0026 Analysis

## Entries

### INT-LINK-TRANSCLUSION

**What happens:** When a link targets transcluded content, `find_links` discovers the link through both the document containing the transclusion AND the original source document. Specifically: if B contains "important text", A transcludes "important text" from B, and C links to A's transcluded copy, then `find_links(target=A)` finds the link AND `find_links(target=B)` also finds the link. The link was created pointing at A, but B discovers it because A's transcluded content shares identity with B's original content.

This extends previous INT-LINK-TRANSCLUSION entries (Findings 0004, 0005, 0007, 0008) with a concrete three-document scenario where the link target (not just source) is transcluded content, and discovery works from the transclusion origin.

**Why it matters for spec:** Confirms the `find_links` content-identity intersection rule works symmetrically for link targets: `content_ids(link.target) ∩ content_ids(B) ≠ ∅ ⟹ link ∈ find_links(B)`. Since A's transcluded region shares I-addresses with B, searching B's I-address space intersects the link's target endpoint. No special-case rule is needed — the existing content-identity model handles it.

**Concrete example:**
- B: "Source content in B: important text here"
- A: "A contains: " + vcopy("important text" from B)
- C: "C references: see the important text"
- Link created: C's "important text" → A's transcluded "important text"
- `find_links(target=A's transcluded content)` → [link_id] (direct target)
- `find_links(target=B's original content)` → [link_id] (discovered via shared content identity)

**Code references:** Test `links/link_to_transcluded_content`, golden file `golden/links/link_to_transcluded_content.json`

**Provenance:** Finding 0026

### INV-LINK-CONTENT-TRACKING

**What happens:** Link discovery through content identity is confirmed to work for the target endpoint of a link, not just the source endpoint. When a link's target is transcluded content, searching the transclusion origin's content identities discovers the link. The link ID `1.1.0.1.0.3.0.2.1` (created pointing at document A) appears in `find_links` results when querying document B's original content — confirming that `find_links` indexes link targets by I-address, and transclusion preserves I-address sharing.

**Why it matters for spec:** Strengthens the invariant that links track content by identity rather than position. The formal property `find_links(specset) = {link | content_ids(link.target) ∩ content_ids(specset) ≠ ∅ ∨ content_ids(link.source) ∩ content_ids(specset) ≠ ∅}` is validated for the target-side intersection via a transclusion chain.

**Code references:** Golden evidence in `golden/links/link_to_transcluded_content.json` — `find_links` with `to` set to B's original content returns the link created on A's transcluded copy.

**Provenance:** Finding 0026

### EC-LINK-TOPOLOGY

**What happens:** Several complex link topology patterns were tested and all work correctly:

| Pattern | Setup | Result |
|---------|-------|--------|
| Circular | A → B → C → A (3 links) | All links discoverable |
| Diamond | A → B, A → C, B → D, C → D (4 links) | All links discoverable |
| Star incoming | P1 → Hub, P2 → Hub, P3 → Hub | All links discoverable |
| Star outgoing | Hub → P1, Hub → P2, Hub → P3 | All links discoverable |
| Bidirectional | A ⟷ B (2 links) | Both links discoverable |
| Reverse traversal | Find path D ← C ← B ← A (3 links) | Chain traversable |

None of these topologies cause failures, missing links, or duplicate artifacts. Circular references do not cause infinite loops or errors in `find_links`.

**Why it matters for spec:** Confirms that link discovery has no topology-dependent edge cases. The `find_links` operation is purely based on content-identity intersection and does not depend on link graph structure. The spec need not restrict link topologies — circular, diamond, star, and bidirectional patterns are all valid. Formally: there are no preconditions on link graph shape for `create_link` or `find_links`.

**Code references:** Test `links/link_to_transcluded_content` (additional patterns section)

**Provenance:** Finding 0026
